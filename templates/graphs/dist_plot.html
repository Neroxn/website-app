

{% extends "base.html" %}
{% block title %} {% endblock %}

{% block head %}
{{ super() }}
<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/bar_plot.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/navbar.css') }}">
{% if graphSelected %}
  {{ js_resources|indent(4)|safe }}
  {{ css_resources|indent(4)|safe }}
  {{ plot_script|indent(4)|safe }}
{% endif %}
{% endblock %}


{% block page_content %}
<form method = "POST">
  <div class = "container mt-3">
    <h2> Select a feature to plot histogram</h2>
    <label for="parameter">Choose a parameter</label>
    <select name="selected_parameter" class="form-control" id="selected_parameter">
      {% for col in columns %}
        <option value={{ col }}> {{ col }} </option>
      {% endfor %}
    </select>
    <label>Number of bins</label>
    <input type = "text" class="form-control" name = "numberBin" placeholder = "20"/>
    <input type="submit" class= "btn btn-primary mt-2" value="Submit">
    {% if graphSelected %}
      <a class="btn btn-success mt-2 ml-2" href="{{ url_for('download_csv',path = path) }}">Download graph as csv</a>
    {% endif %}
  </div>
</form>

{% if graphSelected %}
<h1 style="text-align: center; margin-bottom: 40px;"> Histogram plot of parameter {{ selected  }} </h1>
<div style="display: flex; justify-content: center;">
  {{ plot_div|indent(4)|safe }}
</div>
{% endif %}

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static',filename='js/bar_plot.js') }}"></script>
{% endblock %}


